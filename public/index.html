<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="%PUBLIC_URL%/logo.svg" id="icon" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="theme-color" content="#000000" />
        <meta name="description" content="Web site created using create-react-app" />
        <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo.svg" />
        <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
        <title>Jotion</title>
    </head>
    <body>
        <noscript>The connected workspace where better, faster work happens.</noscript>
        <div id="root"></div>
        <div id="portal-root"></div>
        <div id="alert-root"></div>

        <script>
            // Detect dark mode
            const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
            const isDarkMode = darkModeMediaQuery.matches;

            // Function to set favicon based on dark mode
            function setIcon() {
                const favicon = document.getElementById('icon');
                if (isDarkMode) {
                    favicon.href = '%PUBLIC_URL%/logo-dark.svg';
                } else {
                    favicon.href = '%PUBLIC_URL%/logo.svg';
                }
            }

            // Set favicon initially
            setIcon();

            // Listen for changes in dark mode and update favicon accordingly
            darkModeMediaQuery.addListener(setIcon);
        </script>
    </body>
</html>
